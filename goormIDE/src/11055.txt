// 가장 큰 증가 부분 수열 // 동적 계획법

#include <stdio.h>

int main()
{
	int N;
	int num[1001] = {0,};
	int dp[1001] = {0,};
	scanf("%d", &N);
	for(int i=0; i<N; i++)
	{
		scanf("%d", &num[i]);
		dp[i] = num[i];
	}
	for(int i=1;i<N;i++)
	{
		int max=0;
		for(int k=0; k<i; k++)
		{
			if(num[k]<num[i] && dp[k]+dp[i]>=max)
			{
				max = dp[i] + dp[k];
			}
		}
		if(max!=0)
			dp[i] = max;
	}
	int MAX=dp[0];
	for(int i=0; i<N; i++)
	{
		if(MAX<dp[i])
			MAX = dp[i];
	}
	printf("%d\n", MAX);
}
